% ----------------------------------------------------------------------------------------
% PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
% ----------------------------------------------------------------------------------------

\documentclass{book} % Font sizes: 10, 11, or 12; paper sizes: a4paper, letterpaper, a5paper, legalpaper, executivepaper or landscape; font families: sans or roman
\usepackage[scale=0.85]{geometry} % Reduce document margins
\usepackage{titlesec}
\usepackage{blindtext}
\usepackage[dvipsnames, table]{xcolor}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{array}
\usepackage{environ}
\usepackage{amssymb}
\usepackage{relsize}
\usepackage{color}
\usepackage{subfiles}

% ----------------------------------------------------------------------------------------
%   HEADER SETTINGS
% ----------------------------------------------------------------------------------------
\title{Yosemite National Park Bouldering}
\author{Keenan Takahashi and Teddy Rendahl}
\date{ }

% ----------------------------------------------------------------------------------------
%   HEADER SETTINGS
% ----------------------------------------------------------------------------------------
\newpagestyle{mystyle}{%
  \headrule\sethead{\chaptername\ \thechapter. \chaptertitle}{}{}
  \setfoot{}{\thepage}{}}
\pagestyle{mystyle}

% ----------------------------------------------------------------------------------------
%   CHAPTER SETTINGS
% ----------------------------------------------------------------------------------------
\titleformat{\chapter}[display]
{\huge\bfseries}
{\thesection.}{0.5em}{}
\titlespacing*{\chapter}{0pt}{\baselineskip}{0.5em}

% ---------------------------------''-------------------------------------------------------
%   ROUNDED TABLE
% ----------------------------------------------------------------------------------------
\newsavebox{\tablebox}

\NewEnviron{rndtable}[2]{%
  \addtolength{\extrarowheight}{1ex}%
  \rowcolors{2}{#2!20}{#2!40}%
  \savebox{\tablebox}{%
    \begin{tabular}{#1}%
      \BODY%
    \end{tabular}}%
  \begin{tikzpicture}
    \begin{scope}
      \clip[rounded corners=1ex] (0,-\dp\tablebox) -- (\wd\tablebox,-\dp\tablebox) -- (\wd\tablebox,\ht\tablebox) -- (0,\ht\tablebox) -- cycle;
      \node at (0,-\dp\tablebox) [anchor=south west,inner sep=0pt]{\usebox{\tablebox}};
    \end{scope}
    \draw[rounded corners=1ex] (0,-\dp\tablebox) -- (\wd\tablebox,-\dp\tablebox) -- (\wd\tablebox,\ht\tablebox) -- (0,\ht\tablebox) -- cycle;
  \end{tikzpicture}
}
% ----------------------------------------------------------------------------------------
%   CREATE BOULDER TITLES
% ----------------------------------------------------------------------------------------

\titleformat{name=\section}[block]
  {\sffamily\large}
  {}
  {0pt}
  {\boxline}
\titlespacing*{\section}{0pt}{\baselineskip}{-\parskip}

\newcommand{\boxline}[1]{%
   \colorbox{black}{\parbox{\dimexpr\columnwidth-2\fboxsep-2\fboxrule\relax}{\color{white}\textbf{#1}}}
}

% ----------------------------------------------------------------------------------------
%   CREATE CIRCLE RULES
% ----------------------------------------------------------------------------------------

\newcommand*\circlednumber[2]{\tikz[baseline=(char.base)]{
            \node[shape=circle, draw=#2, inner sep=0pt, minimum size=5mm, fill=#2] (char) {\color{white}\textbf{#1}};}}

\begin{document}
% ----------------------------------------------------------------------------------------
%   INCLUDE EACH AREA SECTION
% ----------------------------------------------------------------------------------------

%- for area in areas
\subfile{\VAR{area}}
%- endfor

\end{document}


